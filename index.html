<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>HDL Editor</title>
    <link rel="stylesheet" type="text/css" href="css/joint.min.css" />
  </head>

  <body onload="main(document.getElementById('graphContainer'))">
    <!-- <script type="text/javascript" src="js/button_click.js"></script> -->

    <h1>Hello World!</h1>
    We are using node <script>document.write(process.versions.node)</script>,
    Chrome <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.

    <div id='elmish-app' class='elmish-app'>
      <button type='button' name='button' id='elmish-button'>Add Block</button>
    </div>

    <div id='add-link' class='add-link'>
      <button type='button' name='button' id='add-link-button'>Link Block</button>
    </div>

    <!-- content -->
    <div id="myholder"></div>

    <!-- Creates a container for the graph with a grid wallpaper -->
    <div id="graphContainer"
    	style="position:relative;overflow:hidden;width:321px;height:241px;cursor:default;">
    </div>

    <!-- rename symbols to be able to use Node.js and Electron APIs -->
    <script>
      window.nodeRequire = require;
      delete window.require;
      delete window.exports;
      window.nodeModule = module;
      delete window.module;
    </script>

    <script type="text/javascript">
  		mxBasePath = 'node_modules/mxgraph/javascript/src';
  	</script>

  	<!-- Loads and initializes the library -->
  	<script type="text/javascript" src="node_modules/mxgraph/javascript/mxClient.js"></script>

    <!-- JointJS and its dependencies -->
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="js/lodash.js"></script>
    <script type="text/javascript" src="js/backbone.js"></script>
    <script type="text/javascript" src="js/joint.min.js"></script>

    <!-- shapes defined in the following js file -->
    <script type="text/javascript" src="js/jointjs-add-shape.js"></script>

    <script type="text/javascript">
      // testing mxGraph
      // Program starts here. Creates a sample graph in the
  		// DOM node with the specified ID. This function is invoked
  		// from the onLoad event handler of the document (see below).
  		function main(container)
  		{
  			// Checks if the browser is supported
  			if (!mxClient.isBrowserSupported())
  			{
  				// Displays an error message if the browser is not supported.
  				mxUtils.error('Browser is not supported!', 200, false);
  			}
  			else
  			{
  				// Disables the built-in context menu
  				mxEvent.disableContextMenu(container);

  				// Creates the graph inside the given container
  				var graph = new mxGraph(container);

  				// Enables rubberband selection
  				new mxRubberband(graph);

  				// Gets the default parent for inserting new cells. This
  				// is normally the first child of the root (ie. layer 0).
  				var parent = graph.getDefaultParent();

  				// Adds cells to the model in a single step
  				graph.getModel().beginUpdate();
  				try
  				{
  					var v1 = graph.insertVertex(parent, null, 'Hello,', 20, 20, 80, 30);
  					var v2 = graph.insertVertex(parent, null, 'World!', 200, 150, 80, 30);
  					var e1 = graph.insertEdge(parent, null, '', v1, v2);
  				}
  				finally
  				{
  					// Updates the display
  					graph.getModel().endUpdate();
  				}
  			}
  		};

    </script>
  </body>
</html>
